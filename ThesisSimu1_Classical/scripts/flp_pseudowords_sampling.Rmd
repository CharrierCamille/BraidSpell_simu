---
title: "2024-12-02_pseudowords_sampling"
author: "Camille Charrier"
date: "2024-12-02"
output:
  html_document:
    df_print: paged
    toc: true
    theme: lumen
    toc_float: true
    number_sections: true
    highlight: tango
    fig_caption: true
    code_folding: hide
---

```{r setup, include=FALSE} 
knitr::opts_chunk$set(warning = FALSE, message = FALSE,fig.align="center") 
options(encoding = 'UTF-8')
```

# - Abstract

Script used to load flp pseudowords and to sample a set of n = 50 pseudowords to use as stimuli for the simulation of classical effects.

# - Pretreatments

## - Import

Load of packages needed for the further computations

```{r}
library(dplyr)
library(ggplot2)
library(stringr)
library(tidyr)
library(colorspace)
```


## - Global variables

Load of the global variables needed for the import of databases and the plots

```{r}
path_flp_pw = "../data/external/flp_pseudowords_data.csv"


cbp <- c("#FFB23D", "#38A29A", "#19609E", "#009E73",
          "#F0E442", "#0072B2", "#D55E00", "#CC79A7")

cbp2 <- c("#FFB23D", "#18578E", "#35C3B8", "#009E73",
          "#F0E442", "#0072B2", "#D55E00", "#CC79A7")

```


## - Load data

Load the databases into dataframe variables

For a description of the columns, see ThesisSimu1_Classical/data/external/README.md

```{r}
data = read.csv2(path_flp_pw)
```

# - Description

Quantitative description of the dataframe, with first: the number of pseudowords by orthographic length, and second: boxplot of the number of errors by orthographical length

```{r}
data %>% group_by(len) %>% summarise(n=n())

data %>% ggplot(aes(x=as.factor(len),y=err)) +
  geom_boxplot() +
  theme_classic(12) +
  labs(x="Length",y="Number of errors")
```

# - Sampling

Sampling of the subset of words which will be used as stimuli for the simulation: pseudowords not leading to mistakes, not with a verry small nused, and with a length between 3 and 8 (as chronolex stimuli): select a number of n = 50 pseudoword by length. And create the adequate .csv if needed (already created).

```{r}
data %>% filter(err==0 & nused!=2 & len>2 & len<9) %>% group_by(len) %>% sample_n(50,replace=FALSE)

# data %>% filter(err==0 & nused!=2 & len>2 & len<9) %>% group_by(len) %>% sample_n(50,replace=FALSE) %>%  write.csv("../data/processed/flp_pseudowords_stim.csv",row.names = FALSE)
```

